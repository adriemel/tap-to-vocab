<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tap-to-Vocab DEâ†’ES (Spanish voice)</title>
<style>
  body { font: 18px/1.4 system-ui, sans-serif; max-width: 720px; margin: 2rem auto; padding: 0 1rem; }
  h1 { font-size: 1.6rem; margin: 0 0 .5rem; }
  .card { border: 1px solid #ddd; border-radius: 12px; padding: 1rem; }
  .big { font-size: 2rem; letter-spacing: 1px; margin: .8rem 0; }
  input { font-size: 1.2rem; padding: .6rem; width: 100%; box-sizing: border-box; }
  button { font-size: 1rem; padding: .6rem 1rem; margin-right: .5rem; cursor: pointer; }
  .hint { color:#555; }
</style>
</head>
<body>
<div class="card">
  <h1>Deutsch â†’ EspaÃ±ol</h1>
  <div id="prompt" class="big">
    <span id="promptText"></span>
    <span id="wordSpeaker" style="cursor:pointer; display:none;"> ðŸ”Š</span>
  </div>
  <div id="translation" class="hint"></div>
  <p>
    <button id="speak">ðŸ”Š AnhÃ¶ren (Spanisch)</button>
    <button id="reveal">ðŸ‘€ Anzeigen/Verbergen</button>
  </p>
  <p><strong>Schreibweise Ã¼ben (Spanisch):</strong></p>
  <form id="spell-form">
    <input id="spell" autocomplete="off" placeholder="Spanisches Wort schreibenâ€¦" />
    <p id="feedback"></p>
    <button type="submit">PrÃ¼fen</button>
    <button type="button" id="showLetter">Tipp: nÃ¤chsten Buchstaben</button>
  </form>
  <p id="sentence"></p>
</div>

<script>
(function(){
  const qs   = new URLSearchParams(location.search);
  const w    = (qs.get("w")    || "").trim();        // Spanish target
  const de   = (qs.get("de")   || "").trim();        // German prompt
  const sent = (qs.get("sent") || "").trim();
  const lang = (qs.get("lang") || "es-ES").trim();   // es-ES / es-MX /
