<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Link‑Generator (DE ↔ ES)</title>
  <style>
    body { font: 17px/1.5 system-ui, sans-serif; max-width: 760px; margin: 2rem auto; padding: 0 1rem; }
    label { display:block; margin:.4rem 0 .2rem; }
    input, select { width: 100%; padding: .6rem; box-sizing: border-box; }
    .row { display: grid; grid-template-columns: 1fr 1fr; gap: .8rem; }
    button { margin-top: .8rem; padding: .6rem 1rem; cursor: pointer; }
    code { background: #f5f5f5; padding: .2rem .4rem; border-radius: 4px; display:block; word-break: break-all; }
    .small { color:#555; font-size: 0.9rem; }
  </style>
</head>
<body>
  <h1>Tap‑to‑Vocab Link‑Generator (Deutsch ↔ Español)</h1>
  <p class="small">1) Nutze GitHub Pages für die Veröffentlichung. 2) Trage unten deine öffentliche <strong>Basis‑URL</strong> ein (endet mit <code>/vocab.html</code>). 3) Felder ausfüllen → „Generieren“.</p>

  <label>Basis‑URL zu <code>vocab.html</code> (z. B. <em>https://username.github.io/tap-to-vocab/vocab.html</em>)</label>
  <input id="base" placeholder="https://username.github.io/tap-to-vocab/vocab.html" />

  <div class="row">
    <div>
      <label>Spanisches Wort (<em>w</em>)</label>
      <input id="w" placeholder="gato" />
    </div>
    <div>
      <label>Deutsches Wort/Übersetzung (<em>de</em>)</label>
      <input id="de" placeholder="Katze" />
    </div>
  </div>

  <label>Beispielsatz (<em>sent</em>) – optional</label>
  <input id="sent" placeholder="El gato duerme." />

  <div class="row">
    <div>
      <label>Spanische Stimme (<em>lang</em>)</label>
      <select id="lang">
        <option value="es-ES">es-ES (Spanien)</option>
        <option value="es-MX">es-MX (Mexiko)</option>
        <option value="es-AR">es-AR (Argentinien)</option>
      </select>
    </div>
    <div>
      <label>Modus</label>
      <select id="mode">
        <option value="prompt-de">Deutsch als Hinweis → Spanisch lösen</option>
        <option value="prompt-es">Spanisch als Hinweis → Deutsch lösen</option>
        <option value="listen-spell-es">Anhören (ES) → spanisch schreiben</option>
        <option value="listen-spell-de">Anhören (DE) → deutsch schreiben</option>
      </select>
    </div>
  </div>

  <button id="gen">NFC‑URL generieren</button>
  <code id="url"></code>
  <button id="copy">URL kopieren</button>

<script>
const $ = (id) => document.getElementById(id);
$("gen").addEventListener("click", () => {
  const base = $("base").value.trim();
  const w = $("w").value.trim();
  const de = $("de").value.trim();
  const sent = $("sent").value.trim();
  const lang = $("lang").value;
  const mode = $("mode").value;
  if (!base || (!w && !de)) { $("url").textContent = "Bitte Basis‑URL und mindestens ein Wort angeben."; return; }
  const params = new URLSearchParams({ lang, mode });
  if (w) params.set("w", w);
  if (de) params.set("de", de);
  if (sent) params.set("sent", sent);
  $("url").textContent = base + "?" + params.toString();
});
$("copy").addEventListener("click", async () => {
  const t = $("url").textContent;
  if (!t) return;
  try { await navigator.clipboard.writeText(t); alert("Kopiert!"); } catch (e) { alert("Kopieren fehlgeschlagen. Bitte manuell markieren."); }
});
</script>
</body>
</html>
